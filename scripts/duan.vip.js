/***************

端传媒Pro

https://t.me/ddgksf2013

[rewrite_local]
^https?:\/\/app\.theinitium\.com\/subs\/[a-zA-Z_]+\/verify_subscription url script-response-body https://ddgksf2013.top/scripts/duan.vip.js
^https?:\/\/api\.wallkit\.net\/api\/v\d/user url script-response-body https://ddgksf2013.top/scripts/duan.vip.js
^https?:\/\/app\.theinitium\.com\/editionfeed.*pugpig_atom_contents\.json url script-response-body https://ddgksf2013.top/scripts/duan.vip.js
^https?:\/\/app\.theinitium\.com\/editionfeed.*pugpig_atom_contents\.json url request-header (\r\n)If-None-Match:.+(\r\n) request-header $1If-None-Match:$2

[mitm]

hostname = app.theinitium.com, api.wallkit.net

****************/


const $ = new Env("DUAN");
var _0xoda='jsjiami.com.v7';var _0x431899=_0x5c6b;function _0x5c6b(_0xa2aed0,_0x2bccc3){var _0x2fd218=_0x2fd2();return _0x5c6b=function(_0x5c6bdb,_0x276e32){_0x5c6bdb=_0x5c6bdb-0x1a0;var _0x20722b=_0x2fd218[_0x5c6bdb];if(_0x5c6b['uJoBbv']===undefined){var _0x4e456b=function(_0x43d935){var _0x3e7015='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x390899='',_0x37fc73='';for(var _0x47b50d=0x0,_0xe46b66,_0x5b9e12,_0x3a1279=0x0;_0x5b9e12=_0x43d935['charAt'](_0x3a1279++);~_0x5b9e12&&(_0xe46b66=_0x47b50d%0x4?_0xe46b66*0x40+_0x5b9e12:_0x5b9e12,_0x47b50d++%0x4)?_0x390899+=String['fromCharCode'](0xff&_0xe46b66>>(-0x2*_0x47b50d&0x6)):0x0){_0x5b9e12=_0x3e7015['indexOf'](_0x5b9e12);}for(var _0x9c58c8=0x0,_0x54b183=_0x390899['length'];_0x9c58c8<_0x54b183;_0x9c58c8++){_0x37fc73+='%'+('00'+_0x390899['charCodeAt'](_0x9c58c8)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x37fc73);};var _0x449a1d=function(_0x293e7f,_0x1b254b){var _0x32f2d6=[],_0x32c9fe=0x0,_0x4f005c,_0x164d7f='';_0x293e7f=_0x4e456b(_0x293e7f);var _0x18453e;for(_0x18453e=0x0;_0x18453e<0x100;_0x18453e++){_0x32f2d6[_0x18453e]=_0x18453e;}for(_0x18453e=0x0;_0x18453e<0x100;_0x18453e++){_0x32c9fe=(_0x32c9fe+_0x32f2d6[_0x18453e]+_0x1b254b['charCodeAt'](_0x18453e%_0x1b254b['length']))%0x100,_0x4f005c=_0x32f2d6[_0x18453e],_0x32f2d6[_0x18453e]=_0x32f2d6[_0x32c9fe],_0x32f2d6[_0x32c9fe]=_0x4f005c;}_0x18453e=0x0,_0x32c9fe=0x0;for(var _0x4e3dd5=0x0;_0x4e3dd5<_0x293e7f['length'];_0x4e3dd5++){_0x18453e=(_0x18453e+0x1)%0x100,_0x32c9fe=(_0x32c9fe+_0x32f2d6[_0x18453e])%0x100,_0x4f005c=_0x32f2d6[_0x18453e],_0x32f2d6[_0x18453e]=_0x32f2d6[_0x32c9fe],_0x32f2d6[_0x32c9fe]=_0x4f005c,_0x164d7f+=String['fromCharCode'](_0x293e7f['charCodeAt'](_0x4e3dd5)^_0x32f2d6[(_0x32f2d6[_0x18453e]+_0x32f2d6[_0x32c9fe])%0x100]);}return _0x164d7f;};_0x5c6b['FTDiJf']=_0x449a1d,_0xa2aed0=arguments,_0x5c6b['uJoBbv']=!![];}var _0x1ef699=_0x2fd218[0x0],_0x521a3f=_0x5c6bdb+_0x1ef699,_0x48cfbd=_0xa2aed0[_0x521a3f];return!_0x48cfbd?(_0x5c6b['pAeFGX']===undefined&&(_0x5c6b['pAeFGX']=!![]),_0x20722b=_0x5c6b['FTDiJf'](_0x20722b,_0x276e32),_0xa2aed0[_0x521a3f]=_0x20722b):_0x20722b=_0x48cfbd,_0x20722b;},_0x5c6b(_0xa2aed0,_0x2bccc3);}if(function(_0xd56d4b,_0x576146,_0x3d0ea6,_0x226ef4,_0x494370,_0x1d58a2,_0x39100d){return _0xd56d4b=_0xd56d4b>>0x8,_0x1d58a2='hs',_0x39100d='hs',function(_0x26525b,_0x2e5b7f,_0xcc232c,_0x272849,_0x1217c1){var _0x43ac5d=_0x5c6b;_0x272849='tfi',_0x1d58a2=_0x272849+_0x1d58a2,_0x1217c1='up',_0x39100d+=_0x1217c1,_0x1d58a2=_0xcc232c(_0x1d58a2),_0x39100d=_0xcc232c(_0x39100d),_0xcc232c=0x0;var _0x26733f=_0x26525b();while(!![]&&--_0x226ef4+_0x2e5b7f){try{_0x272849=parseInt(_0x43ac5d(0x1c0,'Doto'))/0x1+parseInt(_0x43ac5d(0x1a8,'KxF)'))/0x2+parseInt(_0x43ac5d(0x1a0,'L#WO'))/0x3+parseInt(_0x43ac5d(0x1cc,'(4dl'))/0x4*(parseInt(_0x43ac5d(0x1b9,'PCTn'))/0x5)+parseInt(_0x43ac5d(0x1b4,'(4dl'))/0x6+parseInt(_0x43ac5d(0x1bd,'P)OV'))/0x7*(parseInt(_0x43ac5d(0x1cb,'P)OV'))/0x8)+-parseInt(_0x43ac5d(0x1c7,'d9w^'))/0x9;}catch(_0xeaf51f){_0x272849=_0xcc232c;}finally{_0x1217c1=_0x26733f[_0x1d58a2]();if(_0xd56d4b<=_0x226ef4)_0xcc232c?_0x494370?_0x272849=_0x1217c1:_0x494370=_0x1217c1:_0xcc232c=_0x1217c1;else{if(_0xcc232c==_0x494370['replace'](/[WDpIEbQOMGNXgunfKF=]/g,'')){if(_0x272849===_0x2e5b7f){_0x26733f['un'+_0x1d58a2](_0x1217c1);break;}_0x26733f[_0x39100d](_0x1217c1);}}}}}(_0x3d0ea6,_0x576146,function(_0x1c1690,_0x324b75,_0x7d456e,_0xd309c0,_0x2cd79b,_0x28db39,_0x4e7f8d){return _0x324b75='\x73\x70\x6c\x69\x74',_0x1c1690=arguments[0x0],_0x1c1690=_0x1c1690[_0x324b75](''),_0x7d456e='\x72\x65\x76\x65\x72\x73\x65',_0x1c1690=_0x1c1690[_0x7d456e]('\x76'),_0xd309c0='\x6a\x6f\x69\x6e',(0x1c0bb9,_0x1c1690[_0xd309c0](''));});}(0xcb00,0x738fc,_0x2fd2,0xcd),_0x2fd2){}function showMonthlyPopup(){var _0x2f26c5=_0x5c6b,_0x112675={'RAmVe':function(_0x41de9a){return _0x41de9a();},'MysYv':'message=\x22Premium\x22','SARZv':'DuanLastPopupMonth','HFkii':function(_0x1bdd2b,_0x156733){return _0x1bdd2b===_0x156733;},'vreea':function(_0x2c27d1,_0x284699){return _0x2c27d1===_0x284699;},'Mnopz':_0x2f26c5(0x1ca,'jAT4'),'MWZMv':_0x2f26c5(0x1c8,'7Xas'),'xldgl':_0x2f26c5(0x1cf,'95bV'),'VQhmJ':_0x2f26c5(0x1bb,'jAT4'),'tOgnI':'https://t.me/ddgksf2021'};const _0x525557=new Date()[_0x2f26c5(0x1b2,'L#WO')](),_0x49983d=$[_0x2f26c5(0x1a4,'@g0j')](_0x112675[_0x2f26c5(0x1de,'0izA')]);if(_0x112675['HFkii'](_0x49983d,null)||_0x49983d!=_0x525557){if(_0x112675[_0x2f26c5(0x1c4,'!kTe')](_0x112675[_0x2f26c5(0x1af,'IDPB')],_0x112675['MWZMv'])){_0x112675[_0x2f26c5(0x1c9,'Ygsi')](_0x35b206);var _0x509adf=_0x105cf3[_0x2f26c5(0x1c5,'PCTn')];_0x509adf=_0x53bbff['body'][_0x2f26c5(0x1be,'W5Mx')](/state="inactive/g,_0x2f26c5(0x1c3,'Fgdf'))['replace'](/message=".*?"/g,_0x112675['MysYv']),_0x4e5312['done']({'body':_0x509adf});}else $['msg'](_0x112675[_0x2f26c5(0x1dc,'MP7B')],'',_0x112675[_0x2f26c5(0x1b8,'jAT4')],{'open-url':_0x112675['tOgnI']}),$['setval'](_0x525557['toString'](),_0x112675[_0x2f26c5(0x1d5,'95bV')]);}}if($request[_0x431899(0x1a5,'W5Mx')]['indexOf'](_0x431899(0x1d6,']7vB'))!=-0x1){showMonthlyPopup();var body=$response['body'];body=$response[_0x431899(0x1ae,'IDPB')][_0x431899(0x1da,'O6S7')](/state="inactive/g,_0x431899(0x1b7,'aSvu'))[_0x431899(0x1b5,'KxF)')](/message=".*?"/g,_0x431899(0x1a3,'rK((')),$[_0x431899(0x1e0,'r)C*')]({'body':body});}else{if($request[_0x431899(0x1ab,'hw%3')][_0x431899(0x1d1,'(4dl')](_0x431899(0x1d4,'Ygsi'))!=-0x1){var body=$response['body'];body=$response[_0x431899(0x1aa,'95bV')]['replace'](/allow":false/g,_0x431899(0x1ad,'0izA')),$['done']({'body':body});}else{if($request['url'][_0x431899(0x1a2,'9P8@')](_0x431899(0x1b6,'Doto'))!=-0x1){let obj=JSON[_0x431899(0x1db,'L#WO')]($response[_0x431899(0x1d3,'D1bU')]);obj[_0x431899(0x1d9,'d9w^')]&&(obj['stories']=obj[_0x431899(0x1d8,'jAT4')][_0x431899(0x1dd,'KxF)')](_0x5ac8b4=>_0x5ac8b4['type']===_0x431899(0x1cd,'PCTn'))),$[_0x431899(0x1c2,'kHOH')]({'body':JSON[_0x431899(0x1d7,'kHOH')](obj)});}else{if($request[_0x431899(0x1bf,'(4dl')][_0x431899(0x1a7,'hw%3')](_0x431899(0x1b3,'!kTe'))!=-0x1){var body=$response[_0x431899(0x1ba,'0izA')];body=$response[_0x431899(0x1c1,'1wKg')][_0x431899(0x1bc,'1wKg')](/subscribed":false/g,_0x431899(0x1a6,'@g0j'))[_0x431899(0x1b1,'i)fv')](/paid":false/g,'paid\x22:true'),$[_0x431899(0x1ac,'W5Mx')]({'body':body});}else $[_0x431899(0x1c6,'Gq#M')]({});}}}function _0x2fd2(){var _0x5da1ad=(function(){return[_0xoda,'fGjubsfpjnNiNaIKMmDiWOM.cXomK.FEfvF7OQQg==','W7ClECkdrgjC','W5O6AdpcN109w8kTk0VcRq4','y8oEoCkg','FZFdSSk8W481WRumA8o7WPnT','jCkhWRTsdW','WRq/WRJcTmo7qConW6ddJgjyW6y','fCkkkSkTW5PAW4NdN8kp','jYlcTc5BWRTY','W47cTsucAHy/','tSoJp8kdW47dRmo3','W57cLIfMW70','AapcT8o1W5O','W4hdMHLcWOZdJq','r2xcGbFdVa','WOFdIthcQJaVW607WOFdUsZdSq','W5lcKMZdUW','WP/dGgeIWQVdPh1BdbTur8kV','Cs3cIZldRSk9WRnbW4RcRdr3','WRfpWO58aSkYWR4','lxhdGhhcV8oIWO4sWR7cUqrgfLW6W74D','W5BcLJFcMrmm'].concat((function(){return['WP8WW6W','W4lcHIhcNbesW5tdHCoZi8owyv3dKmkppq','WOvcWOJcVCoYgJy','WPBcIK0gW5NcH8ojWR7cTSocWRz6','W7v/W6NdSSkQDmoOW5RdRen5','fmkPWO1X','WPLEWOa','WO4TW65K','DuJcVIldVCoVW7yXDbm8','W73cNSoJWQq','W5lcN8oOWQ0r','WO/cJCo9zr1xWOuCxCoVW6NdJq','y8kQeN/cOmoHWOy','W4NcKIDyW7FcVZfr','WR3cMCo+WRiLW4juWQnsra','WQDCk8oxdX9GWPZdI8kPyha','W5xdLGvAWOJdNmo0','WPT4pxtdHq9Awmk1efFcLHJcP0XKdcJcRCoS','WR3dKHvYW7SRWPpcGCo2aqvjW48','aGFcSZf4','kZxcPmkbWQdcJKaqWPWYrG','DKVcTJq','6iwo5P265yAw6lwL5l2n55E277Yn5PEZ6lsV6k6G5lMP5OI577+C'].concat((function(){return['W5VdQCkWBSkCtdm','W6ldIsOhBM3dImoyWOJcSG','WPGNW7bTaqFdOa','W6SxCq','W5O5AtdcMvL/E8kWpw7cHq','W4VdO8kKEW','aSkrnSkH','qmoMWR3cVLxdV8kohmkPoSora8oR','WQRcM8oYW7GP','Eg3dSSob','WPy9WRxcLG','WO/dSxLamuD4CSkfo8oyWONdI8k/','W7efWP5uW7K','waxdUSkyWOu','iWlcUbHF','W6hdIYalkuFdKSowWPVcJCoO','WQ9vkSoqx2bIWOVdJCk6','E3ddOSorW7BcR0K','fZn1gv/dQSkFW63dJMa','nCkZWP18fudcMx3dPr3JGklOHP/NLPVLN6W','ANbOW4WSwCkFoIDsdCopW4xdNG'];}()));}()));}());_0x2fd2=function(){return _0x5da1ad;};return _0x2fd2();};var version_ = 'jsjiami.com.v7';
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e)} isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = [""]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
